//created on: Aug 6, 2014
package rules

import play.Logger;
import java.util.Map;
import models.laboratory.experiment.instance.Experiment;
import models.laboratory.experiment.instance.AtomicTransfertMethod;
import models.laboratory.processes.instance.Process;
import models.laboratory.container.instance.Container;
import models.laboratory.container.instance.ContainerSupport;
import validation.ContextValidation;
import play.data.validation.ValidationError;
import models.laboratory.experiment.instance.ManyToOneContainer;
import models.laboratory.experiment.instance.OneToOneContainer;
import models.laboratory.experiment.instance.OneToVoidContainer;
import models.laboratory.experiment.instance.OutputContainerUsed;
import models.laboratory.experiment.instance.InputContainerUsed;
import models.laboratory.container.instance.LocationOnContainerSupport;
import models.laboratory.common.instance.PropertyValue;
import models.laboratory.common.instance.property.*;
import models.laboratory.container.instance.Content;
import models.laboratory.printing.Tag;
import models.laboratory.parameter.*;
import java.util.*;
import java.math.BigDecimal;
import java.math.RoundingMode;
import models.utils.InstanceConstants;
import fr.cea.ig.MongoDBDAO;
import fr.cea.ig.MongoDBResult;
import org.mongojack.DBQuery;
import org.mongojack.DBUpdate;
import org.mongojack.DBCursor;
import java.util.Date;
import lims.services.ILimsServices;
import play.api.modules.spring.Spring;
import models.laboratory.parameter.index.*;
import java.util.regex.Pattern;
import models.laboratory.experiment.description.ExperimentType;
import models.laboratory.run.instance.Run;
import models.laboratory.run.instance.ReadSet;
import models.laboratory.common.instance.State;
import models.laboratory.common.instance.TraceInformation;
import models.laboratory.run.instance.InstrumentUsed;
import models.utils.InstanceHelpers;
import models.utils.InstanceConstants;
import java.text.SimpleDateFormat;
import models.laboratory.run.instance.Treatment;
import models.laboratory.run.instance.Lane;
import workflows.run.*;
import org.apache.commons.lang3.StringUtils;
import fr.cea.ig.play.IGGlobals;