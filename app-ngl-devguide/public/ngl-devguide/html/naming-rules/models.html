<section id="views">
<div class="page-header">
<h1>Models</h1>
</div>
<p>
Le modèle est un ensemble de classe permettant de structurer les données d'un métier. Le modèle peut contenir également l'ensemble des classes permettant de charger les données depuis leur lieu de stockage (fichiers, base de données ou autre).
</p>

<hr>

<h3>1. Les packages et les classes de structure</h3>
<p>
Dans le cadre du modèle, l'organisation en package ne se focalise <b>pas forcément</b> sur la ressource primaire car celle-çi peut être composé de plusieurs sous-ressources qui ne seront pas forcément dans les mêmes packages.
Il faut regrouper les objets par affinité métier. Le nom des packages doit être en anglais et au <b>singulier</b>. Ici, le concept est différent des vues et des controlleurs, une classe ne va contenir les informations que d'<b>un seul élément</b> et donc 
un package va contenir l'ensemble des classes pour structurer l'instance d'une seule donnée. Si il y a besoin de manipuler plusieurs données on utilisera une liste d'objets métiers : <code>List&lt;Object&gt;</code>.  
</p>

<div class="example">
<p>Pour notre application d'exemple, le modèle est très simple. Il y aura 2 packages et 3 classes :</p>
<ul>
<li><code>models.hotel</code>
<ul>
	<li>Hotel.java</li>
	<li>Bedroom.java</li>
</ul>
</li>
<li><code>models.booking</code>
<ul>
	<li>Booking.java</li>	
</ul>
</li>
</ul>
</div>

<div class="alert">
<strong>Warning : </strong>
Les classes correspondants à un <b>formulaire de recherche</b> ne doivent pas être mise dans la partie modèle. En générale une recherche ne se limite pas à filtrer sur les champs de la ressource primaire mais parfois elle inclue des champs de ressources secondaires. 
Dans ce cas, on se retrouve avec un objet très spécifique et qui applatit plusieurs notions métier, il est donc préférable de mettre cette classe au plus proche du controlleur car elle aura peu de chance d'être réutilisée ailleurs.
</div>

<hr>

<h3>1. Les classes de chargement de données</h3>
<p>Dans certains cas, l'extraction des données depuis leur source nécessite d'écrire un peu de code. En effet nous n'utilisons pas à chaque fois des frameworks masquants les différentes complexités techniques. 
Par exemple si l'on interroge une base de données, il faut écrire une requête SQL ou si on charge un fichier XML on doit faire le loader XML, etc. 
On doit donc souvent mettre en oeuvre le pattern <abbr title="Data Access Object">DAO</abbr>. 
Généralement, une méthode d'un DAO renvoit un objet métier ou une liste d'objets métier. Ses objets peuvent contenir d'autre objets ou listes d'objets. 
On se focalise donc sur un objet métier en particulier qui peut en contenir d'autres.
</p>
<p>Pour classer ses objets DAO on les mets dans un package technique dédié <code>dao</code> et on fait une classe DAO par objet métier. 
Chaque nom de classe étant constitué du nom de l'objet métier suffixé avec le mot clé <b>DAO</b>.
</p>

<div class="example">
<p>Pour notre application d'exemple : </p>
<ul>
<li><code>models.hotel.dao</code>
<ul>
	<li>HotelDAO.java</li>
	<li>BedroomDAO.java</li>
</ul>
</li>
<li><code>models.booking.dao</code>
<ul>
	<li>BookingDAO.java</li>	
</ul>
</li>
</ul>
</div>
</section>